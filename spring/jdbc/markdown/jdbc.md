# JDBC 이해
JDBC(Java Database Connectivity)는 자바에서 데이터베이스에 접속할 수 있도록 하는 자바 API
## JDBC 등장 이유
클라이언트가 서버를 통해 데이터를 저장, 조회하면 서버는 다음과 같은 과정을 통해 DB를 사용한다.
1. 커넥션 연결: TCP/IP를 사용해 커넥션 연결
2. SQL 전달: 서버에서 DB가 이해할 수 SQL을 커넥션을 통해 DB에 전달
3. 결과 응답: DB는 전달받은 SQL을 수행 후 결과를 응답, 서버는 응답 결과를 활용한다.

여기서 각 데이터베이스마다 커넥션을 연결하는 방법, SQL을 전달하는 방법, 결과를 응답 받는 방법이 모두 달랐다.
- 데이터베이스를 변경할 경우 서버에 개발된 데이터베이스 사용 코드도 변경해줘야 했다.
- 데이터베이스마다 커넥션 연결, SQL 전달, 응답 받는 방법을 새로 학습해야한다.

이런 문제를 해결하기 위해 JDBC가 등장했다.

## JDBC 표준 인터페이스

`Connection(연결)`, `Statement(SQL을 담은 내용)`, `ResultSet(SQL 요청 응답)` 의 기능을 표준 인터페이스로 정의해서 제공한다.

인터페이스만 있다고 기능이 동작하지 않는다. JDBC 인터페이스를 각각의 DB회사에서 DB에 맞춰 구현해서 라이브러리를 제공한다. 이것을 JDBC 드라이버라고 한다.

JDBC의 등장으로 아래와 같은 문제가 해결됐다.
- 데이터베이스를 교체할 경우 서버의 데이터베이스 사용 코드도 함께 변경해야했다
  - 이제 애플리케이션 로직은 JDBC 표준 인터페이스에만 의존한다. 다른 데이터베이스로 변경하고자 할 때 JDBC 구현 라이브러리만 변경하면 된다.
- 개발자가 각각의 데이터베이스마다 사용방법을 새로 학습해야한다.
  - 개발자는 JDBC 표준 인터페이스 사용방법만 학습하면 된다.

하지만 각각의 데이터베이스마나 SQL, 데이터타입 등 사용방법이 다른경우가 있다. 결국 데이터베이스를 변경할 경우 SQL은 변경할 데이터베이스에 맞도록 변경해야한다. JPA 사용 시 데이터베이스마다 다른 SQL을 정의해야 하는 문제를 해결할 수 있다.

## JDBC와 최신 데이터 접근 기술
최근에는 JDBC를 직접 사용하기 보단 JDBC를 편리하게 사용하는 기술들이 나와있다. 대표적으로 SQL Mapper, ORM 기술로 나눌 수 있다.

- SQL Mapper
  - 장점: JDBC를 편리하게 사용하도록 도와준다.
    - SQL 응답 결과를 객체로 편리하게 변환해준다.
    - JDBC의 반복코드를 제거해준다
  - 단점: 개발자가 SQL을 직접 작성해야한다.
  - 스프링 JdbcTemplate, MyBatis..

- ORM 기술
  - ORM: 객체를 관계형 데이터베이스 테이블과 매핑해주는 기술, 개발자는 반복적인 SQL작성하지 않고 ORM기술이 SQL을 동적으로 만들어 실행해준다. 데이터베이스들마다 다른 SQL을 사용하는 문제도 해결해준다.
  - JPA, 하이버네이트, 이클립스링크...
  - JPA는 자바진영 ORM 표준 인터페이스이고 이것을 구현한 것으로 하이버네이트와 이클립스 링크 등의 기술이 있다.

### SQL Mapper VS ORM 
SQL Mapper는 SQL만 직접 작성하면 번거로운 일은 SQL Mapper가 대신해준다. SQL만 작성할 줄 알면 금방 사용할 수 있다.

ORM기술은 SQL 자체를 작성하지 않아도 돼서 개발 생산성이 높아진다. 편리하지만 쉬운 기술이 아니라 깊이있게 학습해야한다. 