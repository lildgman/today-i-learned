# 데이터 접근 기술 - 시작

데이터 접근 기술에는 크게 두가지 분류가 있다.

## SQL Mapper
- JdbcTemplate
- MyBatis

SQL만 작성하면 해당 SQL의 결과를 객체로 편리하게 매핑해준다. JDBC를 직접 사용할 때 생기는 중복을 제거해주고 여러 편리 기능을 제공한다.

## ORM 관련 기술
- JPA, Hibernate
- 스프링 데이터 JPA
- Querydsl

기본적인 SQL은 JPA가 대신 작성하고 처리해준다. 저장하고 싶은 객체를 마치 자바 컬렉션에 저장하고 조회하듯이 사용하면 ORM 기술이 데이터베이스에 해당 객체를 저장하고 조회해준다.

JPA는 자바 진영의 ORM 표준, Hibernate는 JPA에서 가장 많이 사용하는 구현체이다. 자바에서 ORM 사용 시 JPA 인터페이스를 사용하고 그 구현체로 Hibernate를 사용한다고 생각하자

스프링 데이터, Querydsl은 JPA를 더 편리하게 사용할 수 있게 도와주는 프로젝트이다.


## 권장하는 식별자 선택 전략
데이터베이스 기본 키는 3가지 조건을 충족해야 한다.
- null을 허용하지 않는다.
- 유일해야한다.
- 변해서는 안된다.

기본키를 선택하는 전략은 크게 두가지가 있다.
- 자연 키(natural key)
  - 비즈니스에 의미 있는 키
  - 주민번호, 전화번호, 이메일 등
- 대리 키(surrogate key)
  - 비즈니스와 관련 없는 임의로 만들어진 키, 대체 키라고도 함
  - 오라클 시퀀스, auto_increment, identity, 키생성 테이블 사용

**자연 키 보단 대리 키를 사용하자.** <br>
비즈니스 규칙은 생각보다 쉽게 변한다. 대리 키를 기본 키로 사용하되 자연 키의 후보가 되는 컬럼들은 필요에 따라 유니크 인덱스를 설정해서 사용하자.
